{"ast":null,"code":"import _toConsumableArray from\"/Users/bastien/Desktop/ToDoList/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/bastien/Desktop/ToDoList/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./General.css';import List from'../List/List';import{useNavigate}from'react-router-dom';import'../animations.css';import{v4 as uuidv4}from'uuid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function General(){var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isArchiveClicked=_useState2[0],setIsArchiveClicked=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),notification=_useState4[0],setNotification=_useState4[1];var handleClick=function handleClick(){setIsArchiveClicked(true);document.querySelector('.buttonAdd').classList.add('slide-out-left');document.querySelector('.deleteButton').classList.add('slide-out-left');document.querySelector('.archiveButton').classList.add('slide-out-left');setTimeout(function(){navigate('/Archive');},500);};var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),lists=_useState6[0],setLists=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),listNumber=_useState8[0],setListNumber=_useState8[1];var addList=function addList(){var newList={id:uuidv4(),number:listNumber,listItems:[]};setLists(function(prevLists){return[].concat(_toConsumableArray(prevLists),[newList]);});setListNumber(listNumber+1);localStorage.setItem(\"listData-\".concat(newList.id),JSON.stringify(newList));// Assurez-vous de stocker la nouvelle liste correctement\n};useEffect(function(){var storedData=JSON.parse(localStorage.getItem('listData'))||{};var listsData=Object.values(storedData);if(listsData.length>0){setLists(listsData);}},[]);var deleteList=function deleteList(id){setLists(lists.filter(function(list){return list.id!==id;}));if(lists.length===1){setListNumber(1);}// Supprimez également la liste correspondante du localStorage\nlocalStorage.removeItem(\"listData-\".concat(id));};var clearLocalStorage=function clearLocalStorage(){localStorage.clear();setLists([]);setListNumber(1);setNotification('Lists deleted successfully !');setTimeout(function(){setNotification(null);},3000);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"buttonAdd buttonContainer\",onClick:addList,children:/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-plus\",alt:\"Add Icon\"})})}),lists.map(function(list){return/*#__PURE__*/_jsx(List,{id:list.id,listNumber:list.number,onClose:deleteList,isArchiveClicked:isArchiveClicked},list.id);}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonContainer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"deleteButton\",onClick:clearLocalStorage,children:/*#__PURE__*/_jsx(\"span\",{className:\"iconD\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-trash\"})})}),/*#__PURE__*/_jsx(\"button\",{className:\"archiveButton\",onClick:handleClick,children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-box-archive\"})})})]}),notification&&/*#__PURE__*/_jsx(\"div\",{className:\"notification\",children:notification})]});}export default General;","map":{"version":3,"names":["React","useState","useEffect","List","useNavigate","v4","uuidv4","jsx","_jsx","jsxs","_jsxs","General","navigate","_useState","_useState2","_slicedToArray","isArchiveClicked","setIsArchiveClicked","_useState3","_useState4","notification","setNotification","handleClick","document","querySelector","classList","add","setTimeout","_useState5","_useState6","lists","setLists","_useState7","_useState8","listNumber","setListNumber","addList","newList","id","number","listItems","prevLists","concat","_toConsumableArray","localStorage","setItem","JSON","stringify","storedData","parse","getItem","listsData","Object","values","length","deleteList","filter","list","removeItem","clearLocalStorage","clear","children","className","onClick","alt","map","onClose"],"sources":["/Users/bastien/Desktop/ToDoList/src/Components/General/General.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './General.css';\nimport List from '../List/List';\nimport { useNavigate } from 'react-router-dom';\nimport '../animations.css';\nimport { v4 as uuidv4 } from 'uuid';\n\nfunction General() {\n    const navigate = useNavigate();\n    const [isArchiveClicked, setIsArchiveClicked] = useState(false);\n    const [notification, setNotification] = useState(null);\n\n    const handleClick = () => {\n        setIsArchiveClicked(true);\n        document.querySelector('.buttonAdd').classList.add('slide-out-left');\n        document.querySelector('.deleteButton').classList.add('slide-out-left');\n        document.querySelector('.archiveButton').classList.add('slide-out-left');\n    \n        setTimeout(() => {\n            navigate('/Archive');\n        }, 500);\n    };\n\n    const [lists, setLists] = useState([]);\n    const [listNumber, setListNumber] = useState(1);\n\n    const addList = () => {\n        const newList = {\n            id: uuidv4(),\n            number: listNumber,\n            listItems: []\n        };\n        setLists(prevLists => [...prevLists, newList]);\n        setListNumber(listNumber + 1);\n        localStorage.setItem(`listData-${newList.id}`, JSON.stringify(newList)); // Assurez-vous de stocker la nouvelle liste correctement\n    };\n\n    useEffect(() => {\n        const storedData = JSON.parse(localStorage.getItem('listData')) || {};\n        const listsData = Object.values(storedData);\n        if (listsData.length > 0) {\n            setLists(listsData);\n        }\n    }, []);\n\n    const deleteList = (id) => {\n        setLists(lists.filter((list) => list.id !== id));\n        if (lists.length === 1) {\n            setListNumber(1);\n        }\n        // Supprimez également la liste correspondante du localStorage\n        localStorage.removeItem(`listData-${id}`);\n    };\n\n    const clearLocalStorage = () => {\n        localStorage.clear();\n        setLists([]);\n        setListNumber(1);\n        setNotification('Lists deleted successfully !');\n        setTimeout(() => {\n            setNotification(null);\n        }, 3000);\n    };\n\n    return (\n        <div>\n            <button className=\"buttonAdd buttonContainer\" onClick={addList}>\n                <span className=\"icon\">\n                    <i className=\"fa-solid fa-plus\" alt=\"Add Icon\"></i>\n                </span>\n            </button>\n\n            {lists.map((list) => (\n                <List\n                    key={list.id}\n                    id={list.id}\n                    listNumber={list.number}\n                    onClose={deleteList}\n                    isArchiveClicked={isArchiveClicked}\n                />\n            ))}\n\n            <div className=\"buttonContainer\">\n                <button className=\"deleteButton\" onClick={clearLocalStorage}>\n                    <span className=\"iconD\">\n                        <i className=\"fa-solid fa-trash\"></i>\n                    </span>\n                </button>\n                <button className=\"archiveButton\" onClick={handleClick}>\n                    <span>\n                        <i className=\"fa-solid fa-box-archive\"></i>\n                    </span>\n                </button>\n            </div>\n            {notification && <div className=\"notification\">{notification}</div>}\n        </div>\n    );\n}\n\nexport default General;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}