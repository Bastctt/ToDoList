{"ast":null,"code":"import _toConsumableArray from\"/Users/bastien/Desktop/ToDoList/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/bastien/Desktop/ToDoList/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from'react';import'./List.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function List(props){var id=props.id,onClose=props.onClose,listNumber=props.listNumber,isArchiveClicked=props.isArchiveClicked;var _useState=useState({x:0,y:0}),_useState2=_slicedToArray(_useState,2),position=_useState2[0],setPosition=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),inputText=_useState4[0],setInputText=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),listItems=_useState6[0],setListItems=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isEditingTitle=_useState8[0],setIsEditingTitle=_useState8[1];var _useState9=useState(\"List #\".concat(listNumber)),_useState10=_slicedToArray(_useState9,2),listTitle=_useState10[0],setListTitle=_useState10[1];var listRef=useRef(null);var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isDragging=_useState12[0],setIsDragging=_useState12[1];var _useState13=useState({x:0,y:0}),_useState14=_slicedToArray(_useState13,2),offset=_useState14[0],setOffset=_useState14[1];useEffect(function(){var windowWidth=window.innerWidth;var windowHeight=window.innerHeight;var listWidth=listRef.current.offsetWidth;var listHeight=listRef.current.offsetHeight;var initialX=(windowWidth-listWidth)/2;var initialY=(windowHeight-listHeight)/2;setPosition({x:initialX,y:initialY});},[listRef]);useEffect(function(){var storedListData=JSON.parse(localStorage.getItem(\"listData-\".concat(id)))||{listItems:[]};setListItems(storedListData.listItems);},[id]);var handleMouseDown=function handleMouseDown(e){setIsDragging(true);setOffset({x:e.clientX-position.x,y:e.clientY-position.y});};var handleMouseMove=function handleMouseMove(e){if(isDragging){setPosition({x:e.clientX-offset.x,y:e.clientY-offset.y});}};var handleMouseUp=function handleMouseUp(){setIsDragging(false);};var handleInputChange=function handleInputChange(e){setInputText(e.target.value);};var handleSubmit=function handleSubmit(e){e.preventDefault();if(inputText.trim()!==''){var updatedListItems=[].concat(_toConsumableArray(listItems),[inputText]);setListItems(updatedListItems);// Mettez à jour la liste spécifique dans le localStorage\nlocalStorage.setItem(\"listData-\".concat(id),JSON.stringify({id:id,number:listNumber,listTitle:listTitle,listItems:updatedListItems}));setInputText('');}};var handleItemClick=function handleItemClick(index){var updatedListItems=_toConsumableArray(listItems);updatedListItems[index]=/*#__PURE__*/_jsx(\"s\",{children:updatedListItems[index]});setListItems(updatedListItems);};var handleTitleClick=function handleTitleClick(){setIsEditingTitle(true);};var handleTitleChange=function handleTitleChange(e){setListTitle(e.target.value);};var handleTitleBlur=function handleTitleBlur(){setIsEditingTitle(false);};return/*#__PURE__*/_jsxs(\"div\",{ref:listRef,className:\"list-container \".concat(isArchiveClicked?'slide-out-left':''),style:{left:\"\".concat(position.x,\"px\"),top:\"\".concat(position.y,\"px\"),position:'absolute'},onMouseDown:handleMouseDown,onMouseMove:handleMouseMove,onMouseUp:handleMouseUp,children:[/*#__PURE__*/_jsx(\"button\",{className:\"closeButton\",onClick:function onClick(){return onClose(id);},children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-xmark\"})})}),isEditingTitle?/*#__PURE__*/_jsx(\"input\",{className:\"modifTitle\",type:\"text\",value:listTitle,onChange:handleTitleChange,onBlur:handleTitleBlur,autoFocus:true}):/*#__PURE__*/_jsx(\"h2\",{className:\"listTitle\",onClick:handleTitleClick,children:listTitle}),/*#__PURE__*/_jsxs(\"form\",{className:\"list-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,placeholder:\"Enter a task\",value:inputText,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{className:\"submitButton\",type:\"submit\",children:\"OK\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-items\",children:listItems.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{className:\"item\",onClick:function onClick(){return handleItemClick(index);},children:item},index);})})]},id);}export default List;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","List","props","id","onClose","listNumber","isArchiveClicked","_useState","x","y","_useState2","_slicedToArray","position","setPosition","_useState3","_useState4","inputText","setInputText","_useState5","_useState6","listItems","setListItems","_useState7","_useState8","isEditingTitle","setIsEditingTitle","_useState9","concat","_useState10","listTitle","setListTitle","listRef","_useState11","_useState12","isDragging","setIsDragging","_useState13","_useState14","offset","setOffset","windowWidth","window","innerWidth","windowHeight","innerHeight","listWidth","current","offsetWidth","listHeight","offsetHeight","initialX","initialY","storedListData","JSON","parse","localStorage","getItem","handleMouseDown","e","clientX","clientY","handleMouseMove","handleMouseUp","handleInputChange","target","value","handleSubmit","preventDefault","trim","updatedListItems","_toConsumableArray","setItem","stringify","number","handleItemClick","index","children","handleTitleClick","handleTitleChange","handleTitleBlur","ref","className","style","left","top","onMouseDown","onMouseMove","onMouseUp","onClick","type","onChange","onBlur","autoFocus","onSubmit","required","placeholder","map","item"],"sources":["/Users/bastien/Desktop/ToDoList/src/Components/List/List.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './List.css';\n\nfunction List(props) {\n    const { id, onClose, listNumber, isArchiveClicked } = props;\n    const [position, setPosition] = useState({ x: 0, y: 0 });\n    const [inputText, setInputText] = useState('');\n    const [listItems, setListItems] = useState([]);\n    const [isEditingTitle, setIsEditingTitle] = useState(false);\n    const [listTitle, setListTitle] = useState(`List #${listNumber}`);\n    const listRef = useRef(null);\n    const [isDragging, setIsDragging] = useState(false);\n    const [offset, setOffset] = useState({ x: 0, y: 0 });\n\n    useEffect(() => {\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n        const listWidth = listRef.current.offsetWidth;\n        const listHeight = listRef.current.offsetHeight;\n\n        const initialX = (windowWidth - listWidth) / 2;\n        const initialY = (windowHeight - listHeight) / 2;\n\n        setPosition({ x: initialX, y: initialY });\n    }, [listRef]);\n\n    useEffect(() => {\n        const storedListData = JSON.parse(localStorage.getItem(`listData-${id}`)) || { listItems: [] };\n        setListItems(storedListData.listItems);\n    }, [id]);\n    \n\n    const handleMouseDown = (e) => {\n        setIsDragging(true);\n        setOffset({\n            x: e.clientX - position.x,\n            y: e.clientY - position.y\n        });\n    };\n\n    const handleMouseMove = (e) => {\n        if (isDragging) {\n            setPosition({\n                x: e.clientX - offset.x,\n                y: e.clientY - offset.y\n            });\n        }\n    };\n\n    const handleMouseUp = () => {\n        setIsDragging(false);\n    };\n\n    const handleInputChange = (e) => {\n        setInputText(e.target.value);\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (inputText.trim() !== '') {\n            const updatedListItems = [...listItems, inputText];\n            setListItems(updatedListItems);\n    \n            // Mettez à jour la liste spécifique dans le localStorage\n            localStorage.setItem(`listData-${id}`, JSON.stringify({\n                id: id,\n                number: listNumber,\n                listTitle: listTitle,\n                listItems: updatedListItems\n            }));\n    \n            setInputText('');\n        }\n    };\n    \n    const handleItemClick = (index) => {\n        const updatedListItems = [...listItems];\n        updatedListItems[index] = <s>{updatedListItems[index]}</s>;\n        setListItems(updatedListItems);\n    };\n\n    const handleTitleClick = () => {\n        setIsEditingTitle(true);\n    };\n\n    const handleTitleChange = (e) => {\n        setListTitle(e.target.value);\n    };\n\n    const handleTitleBlur = () => {\n        setIsEditingTitle(false);\n    };\n\n    return (\n        <div\n            key={id}\n            ref={listRef}\n            className={`list-container ${isArchiveClicked ? 'slide-out-left' : ''}`}\n            style={{\n                left: `${position.x}px`,\n                top: `${position.y}px`,\n                position: 'absolute'\n            }}\n            onMouseDown={handleMouseDown}\n            onMouseMove={handleMouseMove}\n            onMouseUp={handleMouseUp}\n        >\n            <button className=\"closeButton\" onClick={() => onClose(id)}>\n                <span>\n                    <i className=\"fa-solid fa-xmark\"></i>\n                </span>\n            </button>\n            {isEditingTitle ? (\n                <input className=\"modifTitle\"\n                    type=\"text\"\n                    value={listTitle}\n                    onChange={handleTitleChange}\n                    onBlur={handleTitleBlur}\n                    autoFocus\n                />\n            ) : (\n                <h2 className=\"listTitle\" onClick={handleTitleClick}>{listTitle}</h2>\n            )}\n            <form className=\"list-form\" onSubmit={handleSubmit}>\n                <input \n                    type=\"text\" \n                    required\n                    placeholder=\"Enter a task\" \n                    value={inputText} \n                    onChange={handleInputChange} \n                />\n                <button className=\"submitButton\" type=\"submit\">OK</button>\n            </form>\n            <ul className=\"list-items\">\n                {listItems.map((item, index) => (\n                    <li className=\"item\" key={index} onClick={() => handleItemClick(index)}>\n                        {item}\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n\nexport default List;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}